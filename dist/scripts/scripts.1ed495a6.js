var app=angular.module("memoryApp",["ngAnimate"]);app.factory("game",function(){var a=new Game(4);a.getNumberPairs();a.numberPairs,a.numberPairs.length;return a}),app.controller("GameControl",["$scope","game",function(a,b){a.game=b}]),app.directive("flipcard",function(){return{restrict:"E",scope:{},link:function(a,b){}}});var Card=function(a){this.number=a,this.flipped=!1},Game=function(a){this.cardAmount=a,this.numberPairs=[],this.player="player 1",this.playerOneScore=0,this.playerTwoScore=0,this.flipCount=0,this.firstCard="",this.match=!1,this.firstCardValue="",this.secondCard="",this.secondCardValue=""};Game.prototype.takeTurn=function(){"player 1"===this.player?this.match===!0?(this.playerOneScore=++this.playerOneScore,this.player="player 2",this.flipCount=0,this.firstCard="",this.secondCard="",this.match=!1,$(".flipped").length===$("flipcard").length&&alert("Game Over")):(this.player="player 2",this.flipCount=0,console.log("player 2 turn"),this.firstCard.classList.remove("flipped"),this.secondCard.classList.remove("flipped"),this.firstCard="",this.secondCard=""):this.match===!0?(this.playerTwoScore=++this.playerTwoScore,this.player="player 1",this.flipCount=0,console.log("player 1 turn"),this.firstCard="",this.secondCard="",this.match=!1,$(".flipped").length===$("flipcard").length&&alert("Game Over")):(this.player="player 1",this.flipCount=0,console.log("player 1 turn"),this.firstCard.classList.remove("flipped"),this.secondCard.classList.remove("flipped"),this.firstCard="",this.secondCard="")},Game.prototype.getNumberPairs=function(){function a(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a}for(var b=0;b<this.cardAmount;b++)this.numberPairs.push(b),this.numberPairs.push(b);a(this.numberPairs)},Game.prototype.flipCard=function(){0===this.flipCount?(event.currentTarget.classList.add("flipped"),this.firstCard=event.currentTarget,this.firstCardValue=this.firstCard.textContent.trim(),this.flipCount++):1===this.flipCount&&(event.currentTarget.classList.add("flipped"),this.secondCard=event.currentTarget,this.secondCardValue=this.secondCard.textContent.trim(),this.flipCount++,this.firstCardValue===this.secondCardValue?(alert("match!"),this.flipCount=0,this.match=!0,this.takeTurn()):(this.flipCount=0,alert("no match: Next Player"),this.takeTurn()))},angular.module("memoryApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);